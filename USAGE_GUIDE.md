# 🎯 使用指南 - AI 股票分析系统

## ✨ 新功能：动态选择分析引擎

现在你可以在**前端界面**直接选择使用哪种 AI 分析引擎，无需修改配置文件！

## 🖥️ 界面使用流程

### 步骤 1：输入股票代码
在搜索框输入美股代码（如：TSLA, AAPL, NVDA）

### 步骤 2：选择分析引擎

系统提供三个选项：

#### 📊 规则分析（默认，推荐）
- **特点**：完全免费，无需 API 密钥
- **速度**：最快（1-3秒）
- **内容**：基于技术指标的专业分析
- **适合**：快速查看、学习技术分析、预算有限

#### 🤖 Claude AI
- **特点**：专业的中文分析报告
- **速度**：较慢（10-20秒）
- **内容**：深度 AI 分析，上下文理解强
- **适合**：需要专业投研报告、重要决策参考
- **需要**：ANTHROPIC_API_KEY

#### 🚀 GPT-4/GPT-5
- **特点**：OpenAI 最新模型（支持 GPT-5）
- **速度**：中等（5-15秒）
- **内容**：全面的 AI 分析
- **适合**：已有 OpenAI 订阅、多语言需求
- **需要**：OPENAI_API_KEY

### 步骤 3：启动分析
点击 "⚡ 启动分析" 按钮

### 步骤 4：查看结果
- 趋势判断（多头/空头/震荡）
- 技术点位识别
- 完整的 AI 研报

## 🔑 API 密钥配置

### 只使用规则分析（免费）
```env
# backend/.env
ALPHA_VANTAGE_API_KEY=05DHHFUWJV9Y5QL6
```
✅ 已配置好，可以直接使用！

### 添加 Claude AI 支持
```env
# backend/.env
ANTHROPIC_API_KEY=sk-ant-你的密钥
```
获取地址：https://console.anthropic.com/

### 添加 GPT-4/GPT-5 支持
```env
# backend/.env
OPENAI_API_KEY=sk-你的密钥
OPENAI_MODEL=gpt-4o  # 或 gpt-5
```
获取地址：https://platform.openai.com/api-keys

## 🚀 启动应用

### 后端
```bash
cd backend
yarn install  # 首次需要
yarn dev
```

### 前端（新终端）
```bash
cd frontend
yarn install  # 首次需要
yarn start
```

访问：http://localhost:3000

## 💡 使用技巧

### 1. 先用规则分析快速查看
免费且快速，适合初步了解股票趋势

### 2. 重要决策时使用 AI 分析
对于重要的投资决策，使用 Claude 或 GPT 获得更深入的分析

### 3. 对比不同引擎的结果
同一只股票，可以尝试不同引擎，对比分析结果

### 4. API 密钥管理
- Rule-based：无需任何设置
- Claude：需要时才添加 API 密钥
- GPT：需要时才添加 API 密钥

## 📊 功能对比

| 功能 | 规则分析 | Claude AI | GPT-4/5 |
|------|---------|-----------|---------|
| 费用 | 免费 | 按使用付费 | 按使用付费 |
| API密钥 | 不需要 | 需要 | 需要 |
| 响应速度 | 最快 | 较慢 | 中等 |
| 中文质量 | 好 | 优秀 | 良好 |
| 分析深度 | 中等 | 深 | 深 |
| 技术指标 | ✅ | ✅ | ✅ |
| 基本面分析 | 简单 | 详细 | 详细 |
| 风险提示 | ✅ | ✅ | ✅ |

## ⚠️ 注意事项

1. **API 限制**
   - Alpha Vantage: 每分钟5次，每天100次
   - Claude: 根据订阅计划
   - OpenAI: 根据订阅计划

2. **成本控制**
   - 规则分析：完全免费
   - Claude: ~$0.003-0.015/次
   - GPT-4o: ~$0.005-0.02/次

3. **最佳实践**
   - 日常使用：规则分析
   - 重要决策：AI 分析
   - 学习研究：对比多种引擎

## 🎓 示例工作流

### 场景1：快速查看多只股票
```
TSLA → 选择"规则分析" → 快速查看
AAPL → 选择"规则分析" → 快速查看
NVDA → 选择"规则分析" → 快速查看
```

### 场景2：深入研究一只股票
```
TSLA → 选择"规则分析" → 初步了解
     → 选择"Claude AI" → 深度分析
     → 选择"GPT-4" → 对比视角
```

### 场景3：无 API 密钥使用
```
任何股票 → 只选"规则分析" → 完全可用
```

## 🔧 故障排除

### 提示"API密钥错误"
- 检查 `backend/.env` 文件
- 确认相应的 API 密钥已正确填入
- 重启后端服务

### 提示"分析失败"
- 检查股票代码是否正确
- 确认网络连接正常
- 查看后端控制台日志

### 某个引擎无法使用
- 规则分析：应该始终可用
- Claude/GPT：需要有效的 API 密钥

## 📞 获取帮助

遇到问题？
1. 查看后端控制台日志
2. 查看浏览器开发者工具
3. 检查 README.md 文档
4. 提交 GitHub Issue

---

**享受你的 AI 股票分析系统！** 🎉
